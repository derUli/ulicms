<html>
<head>
    <title>phpCodeBeautifier Documentation</title>
</head>
<style>

body, table{
    font-family: Verdana;
    font-size: 11px;
}

/* h1 only used in header */
h1, h2,h3,h4,h5,h6 {
    padding:        2px 10px 2px 10px;
    background:        rgb(234,242,255);
    border:            1px solid rgb(120,172,255);
}

h1,h2 {
    font-weight:    normal;
}

h3,h4,h5,h6 {
    font-weight:    bold;
}

h1 {
    font-size:        30px;
}

h2 {
    font-size:        20px;
    margin-right:    10px;
}

h3 {
    font-size:        13px;
    margin-right:    10px;
}

a {
    text-decoration: none;
    border-bottom: 1px dotted #FF9900;
/*    padding-left: 2px;
    padding-right: 2px;*/
    color:            rgb(0,66,174);
}

a:hover {/*rgb(0,66,174)*/
    color:            rgb(120,172,255);
}

a:visited {
    color:            rgb(0,66,174);
}

a:visited:hover {
    color:            rgb(120,172,255);
}

span.shortcut{
    background-color:        #EEEEEE;
    border:            1px solid #BBBBBB;
    padding:        2px 2px 0px 0px;
}

span.commandProto {
    border: 1px solid #BBBBBB;
    background : #F0F0F0;
    padding : 2px 2px 2px 2px;
    margin : 2px 2px 2px 2px;
}

span.commandProtoParameter{
    font-weight : bold;
}

img {
    margin: 1px 1px 1px 1px;
}

img.alLeft {
    float: left;
}


img.alCenter {
    float: none;
}


img.alRight {
    float: right;
}

pre.example, pre.ChangeLog {
    padding-right:    2px;
    padding-left:    2px;
    background-color:        #F9F9F9;
    border:            1px solid #BBBBBB;

}

span.redMark {
    background-color:        #FFBBBB;
    border:            1px solid #FF9999;
}

thead td {
    padding-right:    2px;
    padding-left:    2px;
    background-color:        #EEEEEE;
    border:            1px solid #BBBBBB;
}
</style>
<body>
<h1>phpCB: PHP Code Beautifier</h1>
<h2>Summary</h2>
<ul>
	<li><a href="#Introduction">php Code Beautifier</a></li>
	<li><a href="#Usage">Usage</a></li>
	<li><a href="#CommentRenderingStyle">Comment rendering style</a></li>
	<li><a href="#PEARStandards">PEAR Coding standards Tips</a></li>
	<li><a href="#Example">Example</a></li>
</ul>

<a name="Introduction"></a>
<h2>php Code Beautifier</h2>
<p>phpCodeBeautifier is Copyright &copy; 2002-2004 <a href="mailto:marms@phpedit.net">Sébastien Hordeaux</a> and Copyright &copy; 2004-2007 <a href="http://www.waterproof.fr/">WaterProof SARL</a>. <a href="mailto:support@waterproof.fr">Contact us</a> before including it in any package (commercial or not).</p>
<p>The main goal of this tool is to avoid spending hours on reformating code to suit my own way of presenting it. The tool has been declined into 3 versions:
<ol>
	<li>A GUI version which allow to process file visually.</li>
	<li>A command line version which allow to be batched or integrated with other tools (CVS, IDE, ...)</li>
	<li>As an integrated tool of <a href="http://www.waterproof.fr/products/PHPEdit/">PHPEdit</a>.</li>
</ol></p>
<p>I hope this tool will assist you as it does for me. If you find bug, please feel free to report them in the <a href="http://issues.waterproof.fr/">issue tracker</a>.</p>

<p>This tool has required work; you are encouraged to reward this work by making a donation, this is the only way to encourage us to continue developping tools like this one and keeping them free.
	<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
		<input type="hidden" name="cmd" value="_xclick">
		<input type="hidden" name="business" value="marms@phpedit.net">
		<input type="hidden" name="item_name" value="PHPEdit Donation">
		<input type="hidden" name="item_number" value="PHPEDIT-DONATION-01">
		<input type="hidden" name="image_url" value="http://www.phpedit.net/images/logo_150x50.gif">
		<input type="hidden" name="no_shipping" value="1">
		<input type="image" src="x-click-butcc-donate.gif" border="0" name="submit" alt="Make payments with PayPal - it's fast, free and secure!">
	</form>
</p>

<p>
	Check <a href="http://www.waterproof.fr/products/phpCodeBeautifier/">http://www.waterproof.fr/products/phpCodeBeautifier/</a> for last updates.
	ChangLog is available from <a href="ChangeLog.txt">here</a>.
	Current version is <b>1.0</b>. You can download it <a href="http://www.waterproof.fr/products/phpCodeBeautifier/download.php">here</a>.
</p>

<h2>Usage</h2><a name="Usage"></a>

<p>Command line syntax is the following:</p>

<pre class="example">phpCB.exe [options] [filename]</pre>

<p>Where options is from the previous topic list and srcFile is the file to beautify. If no srcFile is given, standard input will be used. The transformed text will be outputted to standard output, you can redirect it to a file using the &gt; symbol.</p>

<p>The following options are available:</p>

<ul>
    <li>
        <p><b>--space-after-start-bracket</b>: Allow to insert a space after start bracket '('.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-after-start-bracket</td>
                    <td width="50%">Without --space-after-start-bracket</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

if (<span class="redMark"> </span>$condition) {
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

if ($condition) {
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--space-before-end-bracket</b>: Allow to insert a space before end bracket ')'.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-before-end-bracket</td>
                    <td width="50%">Without --space-before-end-bracket</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

if ($condition<span class="redMark"> </span>) {
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

if ($condition) {
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--space-after-if</b>: Allow to insert a space after 'if' keyword.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-after-if</td>
                    <td width="50%">Without --space-after-if</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

if<span class="redMark"> </span>($condition) {
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

if($condition) {
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--space-after-switch</b>: Allow to insert a space after 'switch' keyword.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-after-switch</td>
                    <td width="50%">Without --space-after-switch</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

switch<span class="redMark"> </span>($condition) {
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

switch($condition) {
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--space-after-while</b>: Allow to insert a space after 'while' keyword.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-after-while</td>
                    <td width="50%">Without --space-after-while</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

while<span class="redMark"> </span>($condition) {
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

while($condition) {
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--space-before-start-angle-bracket</b>: Allow to insert a space before starting angle bracket '{'.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-before-start-angle-bracket</td>
                    <td width="50%">Without --space-before-start-angle-bracket</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

while($condition)<span class="redMark"> </span>{
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

while($condition){
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--space-after-end-angle-bracket</b>: Allow to insert a space after starting angle bracket '}'.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --space-after-end-angle-bracket</td>
                    <td width="50%">Without --space-after-end-angle-bracket</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

while($condition){
}<span class="redMark"> </span>// end of while

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

while($condition){
}// end of while

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--extra-padding-for-case-statement</b>: Increase padding before case statements.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --extra-padding-for-case-statement</td>
                    <td width="50%">Without --extra-padding-for-case-statement</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

switch($condition){
<span class="redMark">    </span>case 1:
<span class="redMark">    </span>    action1();
<span class="redMark">    </span>    break;
<span class="redMark">    </span>case 2:
<span class="redMark">    </span>    action2();
<span class="redMark">    </span>    break;
<span class="redMark">    </span>default:
<span class="redMark">    </span>    defaultaction();
<span class="redMark">    </span>    break;
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

switch($condition){
case 1:
    action1();
    break;
case 2:
    action2();
    break;
default:
    defaultaction();
    break;
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--one-true-brace-function-declaration</b>: Use "One true brace" formating for functions.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --one-true-brace-function-declaration</td>
                    <td width="50%">Without --one-true-brace-function-declaration</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

function aFunction($param)<span class="redMark">
</span>{
    // function content
}

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

function aFunction($param) {
    // function content
}

?&gt;

</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--glue-amperscore</b>: Glue "&amp;" to following item.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">With --glue-amperscore</td>
                    <td width="50%">Without --glue-amperscore</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

$value = &amp;$objectInstance;

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

$value = &amp;<span class="redMark"> </span>$objectInstance;

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--change-shell-comment-to-double-slashes-comment</b>: Change "# ..." comment into "// ..." comments.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="33%">Source</td>
                    <td width="33%">With --change-shell-comment-to-double-slashes-comment</td>
                    <td width="33%">Without --change-shell-comment-to-double-slashes-comment</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="33%"><pre class="example">
&lt;?php

#comment content
//another comment

?&gt;</pre></td>
                    <td width="33%"><pre class="example">
&lt;?php

<span class="redMark">// </span>comment content
//<span class="redMark"> </span>another comment

?&gt;</pre></td>
                    <td width="33%"><pre class="example">
&lt;?php

#<span class="redMark"> </span>comment content
//<span class="redMark"> </span>another comment

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--indent-with-tab</b>: If selected, tabulation (ASCII #9) character is used to indent text, elsewhere space (ASCII #32) character is used.</p>
    </li>
    <li>
        <p><b>--force-large-php-code-tag</b>: Change "&lt;?" and "&lt;%" tokens into "&lt;?php" and "%&gt;" into "?&gt;".</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="33%">Source</td>
                    <td width="33%">With --force-large-php-code-tag</td>
                    <td width="33%">Without --force-large-php-code-tag</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="33%"><pre class="example">
&lt;?

?&gt;

&lt;%

%&gt;</pre></td>
                    <td width="33%"><pre class="example">
&lt;<span class="redMark">?php</span>

?&gt;

&lt;<span class="redMark">?php</span>

<span class="redMark">?</span>&gt;</pre></td>
                    <td width="33%"><pre class="example">
&lt;?

?&gt;

&lt;%

%&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--force-true-false-null-contant-lowercase</b>: Lowercase for NULL, TRUE and FALSE constants as encouraged in PEAR coding standards.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="33%">Source</td>
                    <td width="33%">With --force-true-false-null-contant-lowercase</td>
                    <td width="33%">Without --force-true-false-null-contant-lowercase</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="33%"><pre class="example">
&lt;?php

if(TRUE){
    if(FALSE){
        $value = NULL;
    }
}

?&gt;</pre></td>
                    <td width="33%"><pre class="example">
&lt;?php

if(<span class="redMark">true</span>){
    if(<span class="redMark">false</span>){
        $value = <span class="redMark">null</span>;
    }
}

?&gt;</pre></td>
                    <td width="33%"><pre class="example">
&lt;?php

if(TRUE){
    if(FALSE){
        $value = NULL;
    }
}

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--align-equal-statements</b>: Align all assignement statements.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">Source</td>
                    <td width="50%">With --align-equal-statements</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

$noError = true;
$feildEmpty = false;
$showMessage = false;
$showMessage = false;

$anotherVariable[0123] = 'bla bla bla';

$showBlaBlaBlaMessage = false;

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php
$noError<span class="redMark">              </span> = true;
$feildEmpty<span class="redMark">           </span> = false;
$showMessage<span class="redMark">          </span> = false;
$showMessage<span class="redMark">          </span> = false;
$anotherVariable[0123] = 'bla bla bla';
$showBlaBlaBlaMessage<span class="redMark"> </span> = false;

?&gt;



</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>
    <li>
        <p><b>--align-equal-statements-to-fixed-pos</b>: Align all assignement statements to a fixed position.</p>

        <p>
            <table width="80%">
                <thead>
                <tr>
                    <td width="50%">Source</td>
                    <td width="50%">With --align-equal-statements-to-fixed-pos 40</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

$noError = true;
$feildEmpty = false;
$showMessage = false;
$showMessage = false;

$anotherVariable[0123] = 'bla bla bla';

$showBlaBlaBlaMessage = false;

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php
$noError<span class="redMark">                              </span> = true;
$feildEmpty<span class="redMark">                           </span> = false;
$showMessage<span class="redMark">                          </span> = false;
$showMessage<span class="redMark">                          </span> = false;
$anotherVariable[0123]<span class="redMark">                </span> = 'bla bla bla';
$showBlaBlaBlaMessage<span class="redMark">                 </span> = false;

?&gt;



</pre></td>
                </tr>
                </tbody>
            </table>
        </p>
    </li>

</ul>


<a name="CommentRenderingStyle"></a>
<h2>Comment rendering style</h2>

<p>The following style of comment formating are available:</p>
        <p>
            <table width="100%">
                <thead>
                <tr>
                    <td width="50%"><b>--comment-rendering-style</b> PEAR</td>
                    <td width="50%"><b>--comment-rendering-style</b> PHPDoc</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td width="50%"><pre class="example">
&lt;?php

/**
 * bla bla bla
 *
 * @access public
 */

?&gt;</pre></td>
                    <td width="50%"><pre class="example">
&lt;?php

/**
* bla bla bla
*
* @access public
*/

?&gt;</pre></td>
                </tr>
                </tbody>
            </table>
        </p>


<a name="PEARStandards"></a>
<h2>PEAR Coding standards Tips</h2>
<p>To follow <a href="http://pear.php.net/manual/en/standards.php">PEAR coding standards</a>, I recommend you to use the following configuration:</p>
<p><table width="400">
	<thead>
		<tr>
			<td width="350">Option</td>
			<td width="50" align="center">State</td>
		</tr>
	</thead>
	<tbody>
		<tr><td>--space-after-start-bracket</td><td align="center">-</td></tr>
		<tr><td>--space-before-end-bracket</td><td align="center">-</td></tr>
		<tr><td>--space-after-if</td><td align="center">X</td></tr>
		<tr><td>--space-after-switch</td><td align="center">X</td></tr>
		<tr><td>--space-after-while</td><td align="center">X</td></tr>
		<tr><td>--space-before-start-angle-bracket</td><td align="center">X</td></tr>
		<tr><td>--space-after-end-angle-bracket</td><td align="center">X</td></tr>
		<tr><td>--extra-padding-for-case-statement</td><td align="center">-</td></tr>
		<tr><td>--one-true-brace-function-declaration</td><td align="center">X</td></tr>
		<tr><td>--glue-amperscore</td><td align="center">X</td></tr>
		<tr><td>--change-shell-comment-to-double-slashes-comment</td><td align="center">X</td></tr>
		<tr><td>--indent-with-tab</td><td align="center">-</td></tr>
		<tr><td>--force-large-php-code-tag</td><td align="center">X</td></tr>
		<tr><td>--force-true-false-null-contant-lowercase</td><td align="center">X</td></tr>
		<tr><td>--align-equal-statements</td><td align="center">X</td></tr>
		<tr><td>--align-equal-statements-to-fixed-pos</td><td align="center">-</td></tr>
	</tbody>
</table>
</p>
<p>Use 4 for the padding character count to use.</p>


<a name="Example"></a>
<h2>Example</h2>
<p>This is a sample call of the command line version:</p>
<pre class="example">
# phpCB --space-after-if                             \
    --space-after-switch                             \
    --space-after-while                              \
    --space-before-start-angle-bracket               \
    --space-after-end-angle-bracket                  \
    --one-true-brace-function-declaration            \
    --glue-amperscore                                \
    --change-shell-comment-to-double-slashes-comment \
    --force-large-php-code-tag                       \
    --force-true-false-null-contant-lowercase        \
    --align-equal-statements                         \
    --comment-rendering-style PEAR                   \
    --equal-align-position 50                        \
    --padding-char-count 4                           \
    c:\some\path\to\file.php

</pre>

</body>
</html>