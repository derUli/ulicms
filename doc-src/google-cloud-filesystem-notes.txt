File System Zugriff Google Cloud App Engine / PHP
* Direkter Schreibzugriff aufs Filesystem ist von Google nicht vorgesehen.
* Selbst wenn man es schafft, Dateien direkt im Filesystem zu speichern, werden die Dateien beim nächsten Deploy des Docker Containers gelöscht.
* Es gibt jedoch ein Storage, in das man Dateien über ein Pseudo-Protokoll und eine API speichern kann. Diese bleiben auch nach einem Neustart des Docker Containers erhalten.
* Damit Funktionen wie der Upload von Medien und Installation von Modulen durch den Anwender durchgeführt werden können, müssen alle Stellen im Code, an denen Schreibzugriffe auf das Dateisystem erfolgen, angepasst werden, die Pfade müssen durch Storage URLs ersetzt werden.
* Ich halte es für sinnvoll, statt einfach nur die Pfade anzupassen, eine Abstraktions-Klasse für Dateizugriffe zu machen, so dass zukünftige Anpassungen schneller durchführbar sind.
Ein "FileSystemDriver" Interface und auf Basis dessen Klassen, die verschiedene Zugriffsmethoden implementieren. z.B. Dateizugriff per FTP, per NFS oder für andere Clouds, ....