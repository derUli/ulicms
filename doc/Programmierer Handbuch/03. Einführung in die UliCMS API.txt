03 - Einführung in die UliCMS API
________________________________

UliCMS bietet zahlreiche Funktionsaufrufe, die Sie bei der Entwicklung einer Erweiterung nutzen können.

Hier die Meistgenutzten API-Aufrufe:

[ getModulePath($module) ]
$module ist vom Typ String und enthält den Namen des Moduls (z.B. "hello_world").
Diese Funktion gibt den relativen Pfad zum Hauptordner des Moduls zurück.
Sie wird z.B. benötigt um andere Scriptdateien eines Moduls zu includen.
Um Konflikte zwischen verschiedenen Modulen zu vermeiden, ist es empfehlenswert, alle Funktionsnamen mit dem Namen des Moduls zu prefixen (z.B mein_modul_machWas)

[ getModuleMainFilePath($module) ]
Liefert den Pfad zur Hauptdatei.
Parameter siehe getModulePath

[ getconfig($key) ]
Gibt die entsprechende Konfigurationseinstellung aus der settings-Datenbanktabelle zurück.
Falls $key nicht in der Datenbank existiert, wird false zurück gegeben

[ setconfig($key, $value) ]
Damit können Sie Einstellungen eines Moduls in der Datenbank speichern.
Es ist auch hier sinnvoll, den Namen der Konfigurationsvariable $key mit dem Namen des Moduls zu prefixen.
Falls $key noch nicht existiert wird die Konfigurationsvariable mittels SQL-INSERT neu angelegt. Ansonsten wird diese per SQL-Update geändert.

[ deleteconfig($key) ]
Löscht den Konfigurationsschlüssel $key und gibt als boolean entweder true, wenn $key existiert und erfolgreich gelöscht wurde oder false zurück, falls $key nicht mehr existiert.

[ is_logged_in() ]
Rückgabewert vom Typ Boolean: Ist der aktuelle Nutzer eingeloggt?
Alias:
logged_in();

[ has_permissions($mod) ]
$mod vom Typ Integer
Rückgabewert true oder false.
Damit wird die Berechtigung eines Nutzers geprüft.

Die Rechte eines Benutzers werden in der Tabelle "admins" in der Spalte "group" gespeichert.
Im folgenden die Berechtigungsstufen und die Nutzerrollen
0 = gesperrt
10 = Gast
20 = Mitarbeiter
30 = Autor
40 = Redakteur
50 = Administrator

[ is_admin() ]
Alias für
has_permissions(50);

[ getModuleAdminSelfPath() ]
Aktuelle URL
Für die Erstellung von "Affenformularen".